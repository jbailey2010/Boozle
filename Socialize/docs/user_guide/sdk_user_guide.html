
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Socialize Core SDK Guide &mdash; Socialize Android SDK v2.9.7 documentation</title>
    
    <link rel="stylesheet" href="static/nature.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     'v2.9.7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="shortcut icon" href="static/favicon.ico"/>
    <link rel="top" title="Socialize Android SDK v2.9.7 documentation" href="index.html?v=v2.9.7" />
    <link rel="next" title="Extending Socialize" href="best_practice.html?v=v2.9.7" />
    <link rel="prev" title="Localization" href="localization.html?v=v2.9.7" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="best_practice.html?v=v2.9.7" title="Extending Socialize"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="localization.html?v=v2.9.7" title="Localization"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html?v=v2.9.7">Socialize Android SDK v2.9.7 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
      <META HTTP-EQUIV="Pragma" CONTENT="no-cache"/>
    <META HTTP-EQUIV="Expires" CONTENT="-1"/>

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-9835027-5']);
    _gaq.push(['_setDomainName', '.getsocialize.com']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>

    <script type="text/javascript" charset="utf-8">
      var is_ssl = ("https:" == document.location.protocol);
      var asset_host = is_ssl ? "https://s3.amazonaws.com/getsatisfaction.com/" : "http://s3.amazonaws.com/getsatisfaction.com/";
      document.write(unescape("%3Cscript src='" + asset_host + "javascripts/feedback-v2.js' type='text/javascript'%3E%3C/script%3E"));
    </script>

    <script type="text/javascript" charset="utf-8">
      var feedback_widget_options = {};
      feedback_widget_options.display = "overlay";
      feedback_widget_options.company = "socialize";
      feedback_widget_options.placement = "right";
      feedback_widget_options.color = "#222";
      feedback_widget_options.style = "question";
      feedback_widget_options.product = "socialize_android_sdk";
      feedback_widget_options.limit = "3";
      GSFN.feedback_widget.prototype.local_base_url = "http://support.getsocialize.com";
      GSFN.feedback_widget.prototype.local_ssl_base_url = "http://support.getsocialize.com";
      var feedback_widget = new GSFN.feedback_widget(feedback_widget_options);
    </script><div class="section" id="socialize-core-sdk-guide">
<h1>Socialize Core SDK Guide<a class="headerlink" href="#socialize-core-sdk-guide" title="Permalink to this headline">¶</a></h1>
<div style="background-color:#ffe2a4;border-style:solid;border-color:#5e0000;border-width:1px;">

<table border="0">
	<tr>
		<td>
			<img src="static/flag.png"/>
		</td>
		<td>
			<div style="font-size:1.2em;font-weight:bold;padding:8px;color:#5e0000;padding-left:0px;">
			Advanced Use
			</div>
		</td>
	</tr>
</table>


<div style="font-size:0.9em;font-weight:normal;padding:8px;color:#5e0000;">
The following section is not required if you are simply using the <b>Action Bar</b>
</div>
</div><div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The Socialize SDK provides a simple set of classes and methods built upon the <a class="reference external" href="http://www.getsocialize.com/docs/v1/">Socialize REST API</a></p>
<p>App developers can elect to use either the pre-defined user interface controls provided in the Socialize UI
framework, or &#8220;roll their own&#8221; using direct SDK calls.</p>
<p>ALL calls to the Socialize SDK are <em>asynchronous</em>, meaning that your application will not &#8220;block&#8221; while
waiting for a response from the Socialize server.</p>
<p>You are notified of the outcome of calls to the Socialize service via a <em>SocializeListener</em>
passed into each call to the Socialize SDK.</p>
</div>
<div class="section" id="initializing-socialize-optional">
<h2>Initializing Socialize (Optional)<a class="headerlink" href="#initializing-socialize-optional" title="Permalink to this headline">¶</a></h2>
<div style="background-color:#ffe2a4;border-style:solid;border-color:#5e0000;border-width:1px;">

<table border="0">
	<tr>
		<td>
			<img src="static/flag.png"/>
		</td>
		<td>
			<div style="font-size:1.2em;font-weight:bold;padding:8px;color:#5e0000;padding-left:0px;">
			Advanced Use
			</div>
		</td>
	</tr>
</table>


<div style="font-size:0.9em;font-weight:normal;padding:8px;color:#5e0000;">
The following section is not required if you are simply using the <b>Action Bar</b>
</div>
</div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Socialize will automatically initialize itself upon first use, however if you want more direct control over initialization you can initialize Socialize manually.</p>
</div>
<p>The Socialize SDK should be initialized in the <strong>onCreate()</strong> method of your Activity.
You should also include the onPause and onResume methods.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="nd">@Override</span>
<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
	<span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
	
	<span class="c1">// Initialize socialize</span>
	<span class="n">Socialize</span><span class="o">.</span><span class="na">initAsync</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
	
	<span class="c1">// Your code here</span>
<span class="o">}</span>

<span class="nd">@Override</span>
<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onPause</span><span class="o">()</span> <span class="o">{</span>
	<span class="kd">super</span><span class="o">.</span><span class="na">onPause</span><span class="o">();</span>
	<span class="n">Socialize</span><span class="o">.</span><span class="na">onPause</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
<span class="o">}</span>

<span class="nd">@Override</span>
<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onResume</span><span class="o">()</span> <span class="o">{</span>
	<span class="kd">super</span><span class="o">.</span><span class="na">onResume</span><span class="o">();</span>
	<span class="n">Socialize</span><span class="o">.</span><span class="na">onResume</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</div>
<p>If you want to know about initialization success (e.g. if you want to access Socialize after init), you can also specify a listener</p>
<div class="highlight-java"><div class="highlight"><pre><span class="nd">@Override</span>
<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
	<span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
	
	<span class="c1">// Initialize socialize</span>
	<span class="n">Socialize</span><span class="o">.</span><span class="na">initAsync</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="k">new</span> <span class="n">SocializeInitListener</span><span class="o">()</span> <span class="o">{</span>
		
		<span class="nd">@Override</span>
		<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
			<span class="c1">// Handle error</span>
		<span class="o">}</span>
		
		<span class="nd">@Override</span>
		<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInit</span><span class="o">(</span><span class="n">Context</span> <span class="n">context</span><span class="o">,</span> <span class="n">IOCContainer</span> <span class="n">container</span><span class="o">)</span> <span class="o">{</span>
			<span class="c1">// If you want to access Socialize directly, do it here</span>
		<span class="o">}</span>
	<span class="o">});</span>
<span class="o">}</span>

<span class="nd">@Override</span>
<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onPause</span><span class="o">()</span> <span class="o">{</span>
	<span class="kd">super</span><span class="o">.</span><span class="na">onPause</span><span class="o">();</span>
	<span class="n">Socialize</span><span class="o">.</span><span class="na">onPause</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
<span class="o">}</span>

<span class="nd">@Override</span>
<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onResume</span><span class="o">()</span> <span class="o">{</span>
	<span class="kd">super</span><span class="o">.</span><span class="na">onResume</span><span class="o">();</span>
	<span class="n">Socialize</span><span class="o">.</span><span class="na">onResume</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="entities">
<span id="id1"></span><h2>Entities<a class="headerlink" href="#entities" title="Permalink to this headline">¶</a></h2>
<div style="background-color:#ffe2a4;border-style:solid;border-color:#5e0000;border-width:1px;">

<table border="0">
	<tr>
		<td>
			<img src="static/flag.png"/>
		</td>
		<td>
			<div style="font-size:1.2em;font-weight:bold;padding:8px;color:#5e0000;padding-left:0px;">
			Advanced Use
			</div>
		</td>
	</tr>
</table>


<div style="font-size:0.9em;font-weight:normal;padding:8px;color:#5e0000;">
The following section is not required if you are simply using the <b>Action Bar</b>
</div>
</div><p>An entity is a single item of content in your app</p>
<p>Throughout the documentation and the code snippets we refer to an &#8220;entity&#8221;.  This is simply a
generic term for something that can be view, shared, liked or commented on.  Generally this will
correspond to a single item of content in your app.</p>
<p>Entities in Socialize MUST be associated with a unique key.  It is recommended that where possible an
HTTP URL be used (i.e. one that corresponds to an active web page).</p>
<div class="section" id="using-entities">
<h3>Using Entities<a class="headerlink" href="#using-entities" title="Permalink to this headline">¶</a></h3>
<p>When posting a comment, share or like using Socialize an entity object must be provided.
This can either be an entity you created previously, or a new entity which will be created inline with the call to Socialize.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You should always specify a name when creating an entity, however if you have previously created the entity with a name and do not want to specify the name every time you can provide a &#8220;null&#8221; argument for the name.  This will instruct Socialize to ignore the name attribute and the name of the entity will NOT be updated.</p>
</div>
</div>
<div class="section" id="creating-an-entity-inline">
<h3>Creating an Entity Inline<a class="headerlink" href="#creating-an-entity-inline" title="Permalink to this headline">¶</a></h3>
<p>A typical use of an entity might be when posting a comment.  Here the entity name is specified.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Entity</span> <span class="n">entity</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;key&quot;</span><span class="o">,</span> <span class="s">&quot;name&quot;</span><span class="o">);</span>

<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">CommentUtils</span><span class="o">.</span><span class="na">addComment</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">entity</span><span class="o">,</span> <span class="s">&quot;The comment&quot;</span><span class="o">,</span> <span class="k">new</span> <span class="n">CommentAddListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Comment</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle success</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
<p>Alternatively a <strong>null</strong> argument can be specified for the name which will instruct the server to leave the existing name intact.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Entity</span> <span class="n">entity</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;key&quot;</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>

<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">CommentUtils</span><span class="o">.</span><span class="na">addComment</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">entity</span><span class="o">,</span> <span class="s">&quot;The comment&quot;</span><span class="o">,</span> <span class="k">new</span> <span class="n">CommentAddListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Comment</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle success</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
</div>
<div class="section" id="creating-an-entity-explicitly">
<h3>Creating an Entity Explicitly<a class="headerlink" href="#creating-an-entity-explicitly" title="Permalink to this headline">¶</a></h3>
<p>An entity consists of a <strong>key</strong> and a <strong>name</strong>.  The name should be descriptive and help you identify the
entity when viewing reports on the Socialize dash board.</p>
<p>Creating an entity explicitly in this manner is <strong>optional but recommended</strong>.  If you simply post a
comment,view,share or like against a key that does not currently exist, it will be automatically created
for you.</p>
<p>To create an entity, simply call the <strong>saveEntity</strong> method:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Entity</span> <span class="n">entity</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;key&quot;</span><span class="o">,</span> <span class="s">&quot;name&quot;</span><span class="o">);</span>

<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">EntityUtils</span><span class="o">.</span><span class="na">saveEntity</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">entity</span><span class="o">,</span> <span class="k">new</span> <span class="n">EntityAddListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Entity</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle success</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
</div>
<div class="section" id="retrieving-entity-data">
<h3>Retrieving Entity Data<a class="headerlink" href="#retrieving-entity-data" title="Permalink to this headline">¶</a></h3>
<p>An existing entity can be retrieved via the <strong>getEntity</strong> method.  Entities obtained in this way will also
provide aggregate data on comments, likes, shares and views.  Refer to the <a class="reference internal" href="#entity-stats"><em>Entity Stats (Global)</em></a> section for more detail on these aggregate values.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// The &quot;this&quot; argument refers to the current Activity	</span>
<span class="n">EntityUtils</span><span class="o">.</span><span class="na">getEntity</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="s">&quot;key&quot;</span><span class="o">,</span> <span class="k">new</span> <span class="n">EntityGetListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onGet</span><span class="o">(</span><span class="n">Entity</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle success</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">if</span><span class="o">(</span><span class="n">isNotFoundError</span><span class="o">(</span><span class="n">error</span><span class="o">))</span> <span class="o">{</span>
			<span class="c1">// No entity found</span>
		<span class="o">}</span>
		<span class="k">else</span> <span class="o">{</span>
			<span class="c1">// Handle error</span>
		<span class="o">}</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
<p>You can also retrieve several entities in one call:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">EntityUtils</span><span class="o">.</span><span class="na">getEntities</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="k">new</span> <span class="n">EntityListListener</span><span class="o">()</span> <span class="o">{</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onList</span><span class="o">(</span><span class="n">ListResult</span><span class="o">&lt;</span><span class="n">Entity</span><span class="o">&gt;</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		
		<span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">getTotalCount</span><span class="o">();</span>
		<span class="n">List</span><span class="o">&lt;</span><span class="n">Entity</span><span class="o">&gt;</span> <span class="n">items</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">getItems</span><span class="o">();</span>
		
		<span class="c1">// Handle success</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
<span class="o">},</span> <span class="s">&quot;key0&quot;</span><span class="o">,</span> <span class="s">&quot;key1&quot;</span><span class="o">);</span>
</pre></div>
</div>
</div>
<div class="section" id="retrieving-popular-entities">
<h3>Retrieving Popular Entities<a class="headerlink" href="#retrieving-popular-entities" title="Permalink to this headline">¶</a></h3>
<p>You can retrieve a list of entities ordered by popularity (activity) by passing a SortOrder paramter to the <strong>getEntities</strong> method</p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// Retrieve the top 10 most popular entities</span>
	
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">EntityUtils</span><span class="o">.</span><span class="na">getEntities</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="n">SortOrder</span><span class="o">.</span><span class="na">TOTAL_ACTIVITY</span><span class="o">,</span> <span class="k">new</span> <span class="n">EntityListListener</span><span class="o">()</span> <span class="o">{</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onList</span><span class="o">(</span><span class="n">ListResult</span><span class="o">&lt;</span><span class="n">Entity</span><span class="o">&gt;</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		
		<span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">getTotalCount</span><span class="o">();</span>
		<span class="n">List</span><span class="o">&lt;</span><span class="n">Entity</span><span class="o">&gt;</span> <span class="n">items</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">getItems</span><span class="o">();</span>
		
		<span class="c1">// Handle success</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
</div>
<div class="section" id="entity-stats-global">
<span id="entity-stats"></span><h3>Entity Stats (Global)<a class="headerlink" href="#entity-stats-global" title="Permalink to this headline">¶</a></h3>
<p>Each entity object retrieved from the server contains aggregate statistics about the number of comments,likes,views and shares:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// The &quot;this&quot; argument refers to the current Activity	</span>
<span class="n">EntityUtils</span><span class="o">.</span><span class="na">getEntity</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="s">&quot;key&quot;</span><span class="o">,</span> <span class="k">new</span> <span class="n">EntityGetListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onGet</span><span class="o">(</span><span class="n">Entity</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Get the stats</span>
		<span class="n">EntityStats</span> <span class="n">entityStats</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">getEntityStats</span><span class="o">();</span>
		
		<span class="n">entityStats</span><span class="o">.</span><span class="na">getLikes</span><span class="o">();</span>
		<span class="n">entityStats</span><span class="o">.</span><span class="na">getComments</span><span class="o">();</span>
		<span class="n">entityStats</span><span class="o">.</span><span class="na">getViews</span><span class="o">();</span>
		<span class="n">entityStats</span><span class="o">.</span><span class="na">getShares</span><span class="o">();</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">if</span><span class="o">(</span><span class="n">isNotFoundError</span><span class="o">(</span><span class="n">error</span><span class="o">))</span> <span class="o">{</span>
			<span class="c1">// No entity found</span>
		<span class="o">}</span>
		<span class="k">else</span> <span class="o">{</span>
			<span class="c1">// Handle error</span>
		<span class="o">}</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
</div>
<div class="section" id="entity-stats-user">
<h3>Entity Stats (User)<a class="headerlink" href="#entity-stats-user" title="Permalink to this headline">¶</a></h3>
<p>You can also retrieve information about the current user&#8217;s actions on the entity:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// The &quot;this&quot; argument refers to the current Activity	</span>
<span class="n">EntityUtils</span><span class="o">.</span><span class="na">getEntity</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="s">&quot;key&quot;</span><span class="o">,</span> <span class="k">new</span> <span class="n">EntityGetListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onGet</span><span class="o">(</span><span class="n">Entity</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Get the stats</span>
		<span class="n">UserEntityStats</span> <span class="n">userEntityStats</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">getUserEntityStats</span><span class="o">();</span>
		
		<span class="n">userEntityStats</span><span class="o">.</span><span class="na">isLiked</span><span class="o">();</span>
		<span class="n">userEntityStats</span><span class="o">.</span><span class="na">getComments</span><span class="o">();</span>
		<span class="n">userEntityStats</span><span class="o">.</span><span class="na">getShares</span><span class="o">();</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">if</span><span class="o">(</span><span class="n">isNotFoundError</span><span class="o">(</span><span class="n">error</span><span class="o">))</span> <span class="o">{</span>
			<span class="c1">// No entity found</span>
		<span class="o">}</span>
		<span class="k">else</span> <span class="o">{</span>
			<span class="c1">// Handle error</span>
		<span class="o">}</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
</div>
<div class="section" id="entity-meta-data">
<h3>Entity Meta Data<a class="headerlink" href="#entity-meta-data" title="Permalink to this headline">¶</a></h3>
<p>Entities stored in Socialize can optionally include <em>meta data</em>.  This is for any additional information you want to store about the entity.</p>
<p>Meta data is stored with the entity and returned then the entity is requested.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Entity</span> <span class="n">entity</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;key&quot;</span><span class="o">,</span> <span class="s">&quot;name&quot;</span><span class="o">);</span>
<span class="n">entity</span><span class="o">.</span><span class="na">setMetaData</span><span class="o">(</span><span class="s">&quot;meta data&quot;</span><span class="o">);</span>

<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">EntityUtils</span><span class="o">.</span><span class="na">saveEntity</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">entity</span><span class="o">,</span> <span class="k">new</span> <span class="n">EntityAddListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Entity</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Entity was created</span>
	<span class="o">}</span>
<span class="o">});</span>

<span class="c1">// Later, when you retrieve the entity...</span>
	
<span class="n">EntityUtils</span><span class="o">.</span><span class="na">getEntity</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="s">&quot;key&quot;</span><span class="o">,</span> <span class="k">new</span> <span class="n">EntityGetListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onGet</span><span class="o">(</span><span class="n">Entity</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Get the meta data</span>
		<span class="n">String</span> <span class="n">metaData</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">getMetaData</span><span class="o">();</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">if</span><span class="o">(</span><span class="n">isNotFoundError</span><span class="o">(</span><span class="n">error</span><span class="o">))</span> <span class="o">{</span>
			<span class="c1">// No entity found</span>
		<span class="o">}</span>
		<span class="k">else</span> <span class="o">{</span>
			<span class="c1">// Handle error</span>
		<span class="o">}</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
<p>If you want a more complex data structure, we recommend using JSON as an object notation</p>
<div class="highlight-java"><div class="highlight"><pre>	
<span class="n">Entity</span> <span class="n">entity</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;key&quot;</span><span class="o">,</span> <span class="s">&quot;name&quot;</span><span class="o">);</span>

<span class="c1">// Store a custom dictionary as a JSON object</span>
<span class="n">JSONObject</span> <span class="n">metaData</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">metaData</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;some_key&quot;</span><span class="o">,</span> <span class="s">&quot;some_value&quot;</span><span class="o">);</span>

<span class="n">entity</span><span class="o">.</span><span class="na">setMetaData</span><span class="o">(</span><span class="n">metaData</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">EntityUtils</span><span class="o">.</span><span class="na">saveEntity</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">entity</span><span class="o">,</span> <span class="k">new</span> <span class="n">EntityAddListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Entity</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Entity was created</span>
	<span class="o">}</span>
<span class="o">});</span>


<span class="c1">// Later, when you retrieve the entity...</span>
	
<span class="n">EntityUtils</span><span class="o">.</span><span class="na">getEntity</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="s">&quot;key&quot;</span><span class="o">,</span> <span class="k">new</span> <span class="n">EntityGetListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onGet</span><span class="o">(</span><span class="n">Entity</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Get the meta data</span>
		<span class="n">String</span> <span class="n">metaData</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">getMetaData</span><span class="o">();</span>
		
		<span class="k">try</span> <span class="o">{</span>
			<span class="n">JSONObject</span> <span class="n">json</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">(</span><span class="n">metaData</span><span class="o">);</span>
			<span class="n">String</span> <span class="n">myValue</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&quot;some_key&quot;</span><span class="o">);</span>
		<span class="o">}</span>
		<span class="k">catch</span> <span class="o">(</span><span class="n">JSONException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
			<span class="c1">// Handle error</span>
		<span class="o">}</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">if</span><span class="o">(</span><span class="n">isNotFoundError</span><span class="o">(</span><span class="n">error</span><span class="o">))</span> <span class="o">{</span>
			<span class="c1">// No entity found</span>
		<span class="o">}</span>
		<span class="k">else</span> <span class="o">{</span>
			<span class="c1">// Handle error</span>
		<span class="o">}</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
</div>
<div class="section" id="entity-activity">
<h3>Entity Activity<a class="headerlink" href="#entity-activity" title="Permalink to this headline">¶</a></h3>
<p>All actions performed on an entity (comment,share,like) can be retrieved using <strong>ActionUtils</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// Get the last 10 actions performed in the app for the entity with the key &quot;key&quot;</span>
<span class="n">ActionUtils</span><span class="o">.</span><span class="na">getActionsByEntity</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="s">&quot;key&quot;</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="k">new</span> <span class="n">ActionListListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onList</span><span class="o">(</span><span class="n">ListResult</span><span class="o">&lt;</span><span class="n">SocializeAction</span><span class="o">&gt;</span> <span class="n">actions</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle result</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="users-user-activity">
<h2>Users &amp; User Activity<a class="headerlink" href="#users-user-activity" title="Permalink to this headline">¶</a></h2>
<div style="background-color:#ffe2a4;border-style:solid;border-color:#5e0000;border-width:1px;">

<table border="0">
	<tr>
		<td>
			<img src="static/flag.png"/>
		</td>
		<td>
			<div style="font-size:1.2em;font-weight:bold;padding:8px;color:#5e0000;padding-left:0px;">
			Advanced Use
			</div>
		</td>
	</tr>
</table>


<div style="font-size:0.9em;font-weight:normal;padding:8px;color:#5e0000;">
The following section is not required if you are simply using the <b>Action Bar</b>
</div>
</div><p>Every device running Socialize has a &#8220;User&#8221;, however Socialize automatically manages this User for you so there is no need to explicitly create one.</p>
<p>A User has both Settings and Activity.  The Settings correspond to the User&#8217;s preferences while using Socialize whereas the Activity relates to their social actions.</p>
<div class="section" id="getting-a-user">
<h3>Getting a User<a class="headerlink" href="#getting-a-user" title="Permalink to this headline">¶</a></h3>
<p>To obtain a reference to the current user simply call the <strong>getCurrentUser</strong> method</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">User</span> <span class="n">currentUser</span> <span class="o">=</span> <span class="n">UserUtils</span><span class="o">.</span><span class="na">getCurrentUser</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
</pre></div>
</div>
<p>To obtain a User object for a user other than the current user</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kt">long</span> <span class="n">id</span> <span class="o">=</span> <span class="mi">123L</span><span class="o">;</span>
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">UserUtils</span><span class="o">.</span><span class="na">getUser</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">id</span><span class="o">,</span> <span class="k">new</span> <span class="n">UserGetListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onGet</span><span class="o">(</span><span class="n">User</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Found the user</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">if</span><span class="o">(</span><span class="n">isNotFoundError</span><span class="o">(</span><span class="n">error</span><span class="o">))</span> <span class="o">{</span>
			<span class="c1">// No such user</span>
		<span class="o">}</span>
		<span class="k">else</span> <span class="o">{</span>
			<span class="c1">// Handle error</span>
		<span class="o">}</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
</div>
<div class="section" id="user-settings">
<h3>User Settings<a class="headerlink" href="#user-settings" title="Permalink to this headline">¶</a></h3>
<p>To allow a user to update their settings you can simply present them with the User Settings view:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">UserUtils</span><span class="o">.</span><span class="na">showUserSettings</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
</pre></div>
</div>
<p>If you want to build your own UI to update a User&#8217;s settings you can simply call the <em>saveUserSettings</em> method</p>
<div class="highlight-java"><div class="highlight"><pre>	
	<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
	<span class="k">try</span> <span class="o">{</span>
		<span class="n">UserSettings</span> <span class="n">userSettings</span> <span class="o">=</span> <span class="n">UserUtils</span><span class="o">.</span><span class="na">getUserSettings</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
		<span class="n">UserUtils</span><span class="o">.</span><span class="na">saveUserSettings</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">userSettings</span><span class="o">,</span> <span class="k">new</span> <span class="n">UserSaveListener</span><span class="o">()</span> <span class="o">{</span>

			<span class="nd">@Override</span>
			<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onUpdate</span><span class="o">(</span><span class="n">User</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
				<span class="c1">// User was updated</span>
			<span class="o">}</span>

			<span class="nd">@Override</span>
			<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
				<span class="c1">// Handle error</span>
			<span class="o">}</span>
		<span class="o">});</span>
	<span class="o">}</span>
	<span class="k">catch</span> <span class="o">(</span><span class="n">SocializeException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The default comment list activity will launch the default user settings view from a menu option</p>
</div>
<p>To globally override the activity that is displayed when a call to <strong>showUserSettings</strong> is made you can set a user
settings activity class on the global Socialize instance:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// Replace ProfileActivity with your own activity class</span>
<span class="n">Socialize</span><span class="o">.</span><span class="na">getSocialize</span><span class="o">().</span><span class="na">setUserSettingsActivity</span><span class="o">(</span><span class="n">ProfileActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</pre></div>
</div>
<p>This call should be made in the <strong>onCreate</strong> method of your main activity.</p>
</div>
<div class="section" id="user-activity">
<h3>User Activity<a class="headerlink" href="#user-activity" title="Permalink to this headline">¶</a></h3>
<p>You can display a profile view for any user which includes their recent activity</p>
<div class="highlight-java"><div class="highlight"><pre>	
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">User</span> <span class="n">user</span> <span class="o">=</span> <span class="n">UserUtils</span><span class="o">.</span><span class="na">getCurrentUser</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>

<span class="n">UserUtils</span><span class="o">.</span><span class="na">showUserProfile</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">user</span><span class="o">);</span>
</pre></div>
</div>
<p>Or retrieve the raw list of actions performed by a user using <strong>ActionUtils</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">User</span> <span class="n">user</span> <span class="o">=</span> <span class="n">UserUtils</span><span class="o">.</span><span class="na">getCurrentUser</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>

<span class="c1">// Get the most recent 10 actions by this user</span>
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">ActionUtils</span><span class="o">.</span><span class="na">getActionsByUser</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">user</span><span class="o">.</span><span class="na">getId</span><span class="o">(),</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="k">new</span> <span class="n">ActionListListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onList</span><span class="o">(</span><span class="n">ListResult</span><span class="o">&lt;</span><span class="n">SocializeAction</span><span class="o">&gt;</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Found a result</span>
		<span class="kt">int</span> <span class="n">totalCount</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">getTotalCount</span><span class="o">();</span>
		<span class="n">List</span><span class="o">&lt;</span><span class="n">SocializeAction</span><span class="o">&gt;</span> <span class="n">items</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">getItems</span><span class="o">();</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
<p>Or get the list of actions by a user on a single entity</p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// Get the last 10 actions performed in the app for the entity with the key &quot;key&quot; by the current user</span>
<span class="n">User</span> <span class="n">user</span> <span class="o">=</span> <span class="n">UserUtils</span><span class="o">.</span><span class="na">getCurrentUser</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
	
<span class="n">ActionUtils</span><span class="o">.</span><span class="na">getActionsByUserAndEntity</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">user</span><span class="o">.</span><span class="na">getId</span><span class="o">(),</span> <span class="s">&quot;key&quot;</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="k">new</span> <span class="n">ActionListListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onList</span><span class="o">(</span><span class="n">ListResult</span><span class="o">&lt;</span><span class="n">SocializeAction</span><span class="o">&gt;</span> <span class="n">actions</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle result</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="application-activity">
<h2>Application Activity<a class="headerlink" href="#application-activity" title="Permalink to this headline">¶</a></h2>
<div style="background-color:#ffe2a4;border-style:solid;border-color:#5e0000;border-width:1px;">

<table border="0">
	<tr>
		<td>
			<img src="static/flag.png"/>
		</td>
		<td>
			<div style="font-size:1.2em;font-weight:bold;padding:8px;color:#5e0000;padding-left:0px;">
			Advanced Use
			</div>
		</td>
	</tr>
</table>


<div style="font-size:0.9em;font-weight:normal;padding:8px;color:#5e0000;">
The following section is not required if you are simply using the <b>Action Bar</b>
</div>
</div><p>Using the <strong>ActionUtils</strong> class you can also retrieve application-wide activity</p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// Get the last 10 actions performed in the app</span>
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">ActionUtils</span><span class="o">.</span><span class="na">getActionsByApplication</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="k">new</span> <span class="n">ActionListListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onList</span><span class="o">(</span><span class="n">ListResult</span><span class="o">&lt;</span><span class="n">SocializeAction</span><span class="o">&gt;</span> <span class="n">actions</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle result</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
</div>
<div class="section" id="sharing">
<h2>Sharing<a class="headerlink" href="#sharing" title="Permalink to this headline">¶</a></h2>
<div style="background-color:#ffe2a4;border-style:solid;border-color:#5e0000;border-width:1px;">

<table border="0">
	<tr>
		<td>
			<img src="static/flag.png"/>
		</td>
		<td>
			<div style="font-size:1.2em;font-weight:bold;padding:8px;color:#5e0000;padding-left:0px;">
			Advanced Use
			</div>
		</td>
	</tr>
</table>


<div style="font-size:0.9em;font-weight:normal;padding:8px;color:#5e0000;">
The following section is not required if you are simply using the <b>Action Bar</b>
</div>
</div><p>Socialize provides a complete set of helper functions to make sharing content in your app as easy as possible.</p>
<div class="section" id="default-share-dialog">
<h3>Default Share Dialog<a class="headerlink" href="#default-share-dialog" title="Permalink to this headline">¶</a></h3>
<p>The simplest way to allow users to share an entity (your content) is via the share dialog</p>
<img alt="images/2_0_share_default.png" src="images/2_0_share_default.png" />
<div class="highlight-java"><div class="highlight"><pre><span class="n">Entity</span> <span class="n">entity</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;http://myentity.com&quot;</span><span class="o">,</span> <span class="s">&quot;My Name&quot;</span><span class="o">);</span>

<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">ShareUtils</span><span class="o">.</span><span class="na">showShareDialog</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">entity</span><span class="o">);</span>
</pre></div>
</div>
</div>
<div class="section" id="custom-share-dialog">
<span id="custom-share"></span><h3>Custom Share Dialog<a class="headerlink" href="#custom-share-dialog" title="Permalink to this headline">¶</a></h3>
<p>If you just want to allow sharing to Social Networks</p>
<img alt="images/2_0_share_via_networks.png" src="images/2_0_share_via_networks.png" />
<div class="highlight-java"><div class="highlight"><pre><span class="n">Entity</span> <span class="n">entity</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;http://myentity.com&quot;</span><span class="o">,</span> <span class="s">&quot;My Name&quot;</span><span class="o">);</span>	

<span class="c1">// Setup the options for display</span>
<span class="kt">int</span> <span class="n">options</span> <span class="o">=</span> <span class="n">ShareUtils</span><span class="o">.</span><span class="na">FACEBOOK</span> <span class="o">|</span> <span class="n">ShareUtils</span><span class="o">.</span><span class="na">TWITTER</span> <span class="o">|</span> <span class="n">ShareUtils</span><span class="o">.</span><span class="na">GOOGLE_PLUS</span><span class="o">;</span>

<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">ShareUtils</span><span class="o">.</span><span class="na">showShareDialog</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">entity</span><span class="o">,</span> <span class="k">new</span> <span class="n">SocialNetworkDialogListener</span><span class="o">()</span> <span class="o">{</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">(</span><span class="n">Dialog</span> <span class="n">dialog</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// User cancelled</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onNetworkError</span><span class="o">(</span><span class="n">Activity</span> <span class="n">context</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">network</span><span class="o">,</span> <span class="n">Exception</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Failed to post to given network</span>
	<span class="o">}</span>
	
<span class="o">},</span> <span class="n">options</span><span class="o">);</span>
</pre></div>
</div>
</div>
<div class="section" id="adding-text-to-a-share">
<h3>Adding Text to a Share<a class="headerlink" href="#adding-text-to-a-share" title="Permalink to this headline">¶</a></h3>
<p>If you want to allow the user to add a comment when sharing but you still want to use the default UI controls
you can implement a <em>Flow Interrupt</em> to extract text from the user before the share</p>
<img alt="images/2_0_share_with_comment.png" src="images/2_0_share_with_comment.png" />
<div class="highlight-java"><div class="highlight"><pre><span class="n">Entity</span> <span class="n">entity</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;http://myentity.com&quot;</span><span class="o">,</span> <span class="s">&quot;My Name&quot;</span><span class="o">);</span>	

<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">ShareUtils</span><span class="o">.</span><span class="na">showShareDialog</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">entity</span><span class="o">,</span> <span class="k">new</span> <span class="n">SocialNetworkDialogListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onShow</span><span class="o">(</span><span class="n">Dialog</span> <span class="n">dialog</span><span class="o">,</span> <span class="n">SharePanelView</span> <span class="n">dialogView</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// The dialog was shown.</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">(</span><span class="n">Dialog</span> <span class="n">dialog</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// User cancelled.</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSimpleShare</span><span class="o">(</span><span class="n">ShareType</span> <span class="n">type</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// User performed a simple share operation (e.g. Email or SMS)</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFlowInterrupted</span><span class="o">(</span><span class="n">DialogFlowController</span> <span class="n">controller</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// This will only be called if onContinue returns true</span>
		
		<span class="c1">// Obtain share text (e.g. from the user via a dialog)</span>
		<span class="n">String</span> <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;Add another message here&quot;</span><span class="o">;</span>
		
		<span class="c1">// Call continue when you want flow to resume</span>
		<span class="n">controller</span><span class="o">.</span><span class="na">onContinue</span><span class="o">(</span><span class="n">text</span><span class="o">);</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onContinue</span><span class="o">(</span><span class="n">Dialog</span> <span class="n">dialog</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">remember</span><span class="o">,</span> <span class="n">SocialNetwork</span><span class="o">...</span> <span class="n">networks</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Return true if you want to interrupt the flow</span>
		<span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
</div>
<div class="section" id="customizing-the-content-of-facebook-twiter-posts">
<h3>Customizing the Content of Facebook &amp; Twiter Posts<a class="headerlink" href="#customizing-the-content-of-facebook-twiter-posts" title="Permalink to this headline">¶</a></h3>
<p>In some situations you may want to override the default behavior of posting to Facebook or Twitter.  In these cases you can
implement the <strong>onBeforePost</strong> method of the listener you pass to the ShareUtils call</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Entity</span> <span class="n">entity</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;http://myentity.com&quot;</span><span class="o">,</span> <span class="s">&quot;My Name&quot;</span><span class="o">);</span>	

<span class="c1">// Setup the options for display</span>
<span class="kt">int</span> <span class="n">options</span> <span class="o">=</span> <span class="n">ShareUtils</span><span class="o">.</span><span class="na">SOCIAL</span><span class="o">;</span> <span class="c1">// This is just a shortcut for Twitter, Facebook and Google+.</span>

<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">ShareUtils</span><span class="o">.</span><span class="na">showShareDialog</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">entity</span><span class="o">,</span> <span class="k">new</span> <span class="n">SocialNetworkDialogListener</span><span class="o">()</span> <span class="o">{</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">(</span><span class="n">Dialog</span> <span class="n">dialog</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// User cancelled</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onNetworkError</span><span class="o">(</span><span class="n">Activity</span> <span class="n">context</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">network</span><span class="o">,</span> <span class="n">Exception</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Failed to post to given network</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onBeforePost</span><span class="o">(</span><span class="n">Activity</span> <span class="n">parent</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">socialNetwork</span><span class="o">,</span> <span class="n">PostData</span> <span class="n">postData</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Change data for facebook post</span>
		<span class="k">if</span><span class="o">(</span><span class="n">socialNetwork</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">socialNetwork</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">SocialNetwork</span><span class="o">.</span><span class="na">FACEBOOK</span><span class="o">))</span> <span class="o">{</span>
			<span class="n">postData</span><span class="o">.</span><span class="na">getPostValues</span><span class="o">().</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;foo&quot;</span><span class="o">,</span> <span class="s">&quot;bar&quot;</span><span class="o">);</span>
		<span class="o">}</span>
		
		<span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
	<span class="o">}</span>
	
<span class="o">},</span> <span class="n">options</span><span class="o">);</span>
</pre></div>
</div>
</div>
<div class="section" id="customizing-the-content-of-email-sms-posts">
<h3>Customizing the Content of Email &amp; SMS Posts<a class="headerlink" href="#customizing-the-content-of-email-sms-posts" title="Permalink to this headline">¶</a></h3>
<p>You can also override the default text for email and sms shares</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Activity</span> <span class="n">context</span> <span class="o">=</span> <span class="k">this</span><span class="o">;</span>

<span class="n">Entity</span> <span class="n">entity</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;http://myentity.com&quot;</span><span class="o">,</span> <span class="s">&quot;My Name&quot;</span><span class="o">);</span>

<span class="c1">// Setup the options for display.  This can be anything but for this example we will limit to email/sms</span>
<span class="kt">int</span> <span class="n">options</span> <span class="o">=</span> <span class="n">ShareUtils</span><span class="o">.</span><span class="na">EMAIL</span> <span class="o">|</span> <span class="n">ShareUtils</span><span class="o">.</span><span class="na">SMS</span><span class="o">;</span>

<span class="c1">// Display the share dialog with these options</span>
<span class="n">ShareUtils</span><span class="o">.</span><span class="na">showShareDialog</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">entity</span><span class="o">,</span> <span class="k">new</span> <span class="n">SocialNetworkDialogListener</span><span class="o">()</span> <span class="o">{</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onBeforePost</span><span class="o">(</span><span class="n">Activity</span> <span class="n">parent</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">socialNetwork</span><span class="o">,</span> <span class="n">PostData</span> <span class="n">postData</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// For email/SMS the socialNetwork will be null but we can change postData</span>
		<span class="c1">// Possible values are EXTRA_TEXT, EXTRA_SUBJECT and EXTRA_TITLE</span>
		<span class="n">postData</span><span class="o">.</span><span class="na">getPostValues</span><span class="o">().</span><span class="na">put</span><span class="o">(</span><span class="n">ShareUtils</span><span class="o">.</span><span class="na">EXTRA_TEXT</span><span class="o">,</span> <span class="s">&quot;This is custom text set in the listener! &quot;</span> <span class="o">+</span> <span class="n">postData</span><span class="o">.</span><span class="na">getPropagationInfo</span><span class="o">().</span><span class="na">getEntityUrl</span><span class="o">());</span>

		<span class="c1">// Return false to indicate we want to continue with the share (i.e. NOT cancel)</span>
		<span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
	<span class="o">}</span>

<span class="o">},</span> <span class="n">options</span><span class="o">);</span>
</pre></div>
</div>
</div>
<div class="section" id="retrieving-shares">
<h3>Retrieving Shares<a class="headerlink" href="#retrieving-shares" title="Permalink to this headline">¶</a></h3>
<p>You can retrieve existing share events by User, Entity, Application or directly using an ID</p>
<p>List shares by User</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">User</span> <span class="n">user</span> <span class="o">=</span> <span class="n">UserUtils</span><span class="o">.</span><span class="na">getCurrentUser</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>

<span class="c1">// Get first 10 shares by user</span>
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">ShareUtils</span><span class="o">.</span><span class="na">getSharesByUser</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">user</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="k">new</span> <span class="n">ShareListListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onList</span><span class="o">(</span><span class="n">ListResult</span><span class="o">&lt;</span><span class="n">Share</span><span class="o">&gt;</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Found shares</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
<p>List shares by Entity</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">String</span> <span class="n">entityKey</span> <span class="o">=</span> <span class="s">&quot;http://getsocialize.com&quot;</span><span class="o">;</span>

<span class="c1">// Get first 10 shares</span>
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">ShareUtils</span><span class="o">.</span><span class="na">getSharesByEntity</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">entityKey</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="k">new</span> <span class="n">ShareListListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onList</span><span class="o">(</span><span class="n">ListResult</span><span class="o">&lt;</span><span class="n">Share</span><span class="o">&gt;</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Found shares</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
<p>List shares by ID</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kt">long</span> <span class="n">shareId</span> <span class="o">=</span> <span class="mi">123L</span><span class="o">;</span> 

<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">ShareUtils</span><span class="o">.</span><span class="na">getShare</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="k">new</span> <span class="n">ShareGetListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onGet</span><span class="o">(</span><span class="n">Share</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Share found</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">if</span><span class="o">(</span><span class="n">isNotFoundError</span><span class="o">(</span><span class="n">error</span><span class="o">))</span> <span class="o">{</span>
			<span class="c1">// No share with ID found</span>
		<span class="o">}</span>
		<span class="k">else</span> <span class="o">{</span>
			<span class="c1">// Some other error</span>
		<span class="o">}</span>
	<span class="o">}</span>
	
<span class="o">},</span> <span class="n">shareId</span><span class="o">);</span>
</pre></div>
</div>
<p>List shares by Application</p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// Get first 10 shares</span>
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">ShareUtils</span><span class="o">.</span><span class="na">getSharesByApplication</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="k">new</span> <span class="n">ShareListListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onList</span><span class="o">(</span><span class="n">ListResult</span><span class="o">&lt;</span><span class="n">Share</span><span class="o">&gt;</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Found shares</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="comments">
<h2>Comments<a class="headerlink" href="#comments" title="Permalink to this headline">¶</a></h2>
<div style="background-color:#ffe2a4;border-style:solid;border-color:#5e0000;border-width:1px;">

<table border="0">
	<tr>
		<td>
			<img src="static/flag.png"/>
		</td>
		<td>
			<div style="font-size:1.2em;font-weight:bold;padding:8px;color:#5e0000;padding-left:0px;">
			Advanced Use
			</div>
		</td>
	</tr>
</table>


<div style="font-size:0.9em;font-weight:normal;padding:8px;color:#5e0000;">
The following section is not required if you are simply using the <b>Action Bar</b>
</div>
</div><div class="section" id="displaying-the-comment-list-ui">
<h3>Displaying the Comment List UI<a class="headerlink" href="#displaying-the-comment-list-ui" title="Permalink to this headline">¶</a></h3>
<p>The standard Socialize Comment List UI is included with the <a class="reference internal" href="action_bar.html?v=v2.9.7"><em>Socialize Action Bar</em></a> however if you wanted to create your own ActionBar or
simply want to launch the Comment List from elsewhere in your app this can simply be done with a few lines of code</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Entity</span> <span class="n">entity</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;http://myentity.com&quot;</span><span class="o">,</span> <span class="s">&quot;My Name&quot;</span><span class="o">);</span>

<span class="c1">// Show the comment list view</span>
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">CommentUtils</span><span class="o">.</span><span class="na">showCommentView</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">entity</span><span class="o">);</span>
</pre></div>
</div>
<p>You can also display the UI with a listener to handle events</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Entity</span> <span class="n">entity</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;http://myentity.com&quot;</span><span class="o">,</span> <span class="s">&quot;My Name&quot;</span><span class="o">);</span>

<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">CommentUtils</span><span class="o">.</span><span class="na">showCommentView</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">entity</span><span class="o">,</span> <span class="k">new</span> <span class="n">OnCommentViewActionListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onRender</span><span class="o">(</span><span class="n">CommentListView</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Called when the list view is rendered</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onReload</span><span class="o">(</span><span class="n">CommentListView</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Called when a reload event is posted to the list view.</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onPostComment</span><span class="o">(</span><span class="n">Comment</span> <span class="n">comment</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Called after a comment is posted.</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">CommentListView</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Called when the list view component was created (but may not be shown)</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCommentList</span><span class="o">(</span><span class="n">CommentListView</span> <span class="n">view</span><span class="o">,</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Comment</span><span class="o">&gt;</span> <span class="n">comments</span><span class="o">,</span> <span class="kt">int</span> <span class="n">start</span><span class="o">,</span> <span class="kt">int</span> <span class="n">end</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Called when a list of comments is retrieved.</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onBeforeSetComment</span><span class="o">(</span><span class="n">Comment</span> <span class="n">comment</span><span class="o">,</span> <span class="n">CommentListItem</span> <span class="n">item</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Called before a single comment is set on the comment list item view</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAfterSetComment</span><span class="o">(</span><span class="n">Comment</span> <span class="n">comment</span><span class="o">,</span> <span class="n">CommentListItem</span> <span class="n">item</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Called after a single comment is set on the comment list item view</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onRefreshMenuItemClick</span><span class="o">(</span><span class="n">MenuItem</span> <span class="n">item</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Called when the user clicks the refresh option from the menu</span>
		<span class="c1">// Return true to override default behavior</span>
		<span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onSettingsMenuItemClick</span><span class="o">(</span><span class="n">MenuItem</span> <span class="n">item</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Called when the user clicks the settings option from the menu</span>
		<span class="c1">// Return true to override default behavior</span>
		<span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onCommentItemClicked</span><span class="o">(</span><span class="n">CommentListItem</span> <span class="n">item</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Called when the user clicks the text portion of an entry in the comment list</span>
		<span class="c1">// Return true to override default behavior</span>
		<span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onCommentIconClicked</span><span class="o">(</span><span class="n">CommentListItem</span> <span class="n">item</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Called when the user clicks the icon portion of an entry in the comment list</span>
		<span class="c1">// Return true to override default behavior</span>
		<span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
</div>
<div class="section" id="making-hyerlinks-clickable">
<h3>Making Hyerlinks Clickable<a class="headerlink" href="#making-hyerlinks-clickable" title="Permalink to this headline">¶</a></h3>
<p>The Socialize SDK includes a pre-built OnCommentViewActionListener instance that automatically makes hyperlinks appearing in comments clickable</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Entity</span> <span class="n">entity</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;http://myentity.com&quot;</span><span class="o">,</span> <span class="s">&quot;My Name&quot;</span><span class="o">);</span>

<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">CommentUtils</span><span class="o">.</span><span class="na">showCommentView</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">entity</span><span class="o">,</span> <span class="k">new</span> <span class="n">LinkifyCommentViewActionListener</span><span class="o">());</span>
</pre></div>
</div>
</div>
<div class="section" id="adding-comments">
<h3>Adding Comments<a class="headerlink" href="#adding-comments" title="Permalink to this headline">¶</a></h3>
<p>To create a comment programmatically you simply call the <strong>addComment</strong> method on <strong>CommentUtils</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Entity</span> <span class="n">entity</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;http://myentity.com&quot;</span><span class="o">,</span> <span class="s">&quot;My Name&quot;</span><span class="o">);</span>

<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">CommentUtils</span><span class="o">.</span><span class="na">addComment</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">entity</span><span class="o">,</span> <span class="s">&quot;This the comment&quot;</span><span class="o">,</span> <span class="k">new</span> <span class="n">CommentAddListener</span><span class="o">()</span> <span class="o">{</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Comment</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Comment was created</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
<p>You can also manually specify how the comment is to be propagated to 3rd party networks such as Facebook and Twitter</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Entity</span> <span class="n">entity</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;http://myentity.com&quot;</span><span class="o">,</span> <span class="s">&quot;My Name&quot;</span><span class="o">);</span>

<span class="c1">// Get the default options for the user.</span>
<span class="n">CommentOptions</span> <span class="n">commentOptions</span> <span class="o">=</span> <span class="n">CommentUtils</span><span class="o">.</span><span class="na">getUserCommentOptions</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>

<span class="c1">// Automatically subscribe this user to new comments on this entity (requires SmartAlerts)</span>
<span class="n">commentOptions</span><span class="o">.</span><span class="na">setSubscribeToUpdates</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

<span class="c1">// Pass the share options in the call to create the comment.</span>
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">CommentUtils</span><span class="o">.</span><span class="na">addComment</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">entity</span><span class="o">,</span> <span class="s">&quot;This the comment&quot;</span><span class="o">,</span> <span class="n">commentOptions</span><span class="o">,</span> <span class="k">new</span> <span class="n">CommentAddListener</span><span class="o">()</span> <span class="o">{</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Comment</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Comment was created</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onNetworkError</span><span class="o">(</span><span class="n">Activity</span> <span class="n">context</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">network</span><span class="o">,</span> <span class="n">Exception</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Failed to share to the given network</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onBeforePost</span><span class="o">(</span><span class="n">Activity</span> <span class="n">parent</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">socialNetwork</span><span class="o">,</span> <span class="n">PostData</span> <span class="n">postData</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Called before the post to the given network is made</span>
		<span class="c1">// Return true to prevent the post from occurring</span>
		<span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAfterPost</span><span class="o">(</span><span class="n">Activity</span> <span class="n">parent</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">socialNetwork</span><span class="o">,</span> <span class="n">JSONObject</span> <span class="n">responseObject</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Called after the post to the given network is made</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">()</span> <span class="o">{</span>
		<span class="c1">// Called if the user canceled the auth process for social networks</span>
	<span class="o">}</span>
<span class="o">},</span> <span class="n">SocialNetwork</span><span class="o">.</span><span class="na">FACEBOOK</span><span class="o">,</span> <span class="n">SocialNetwork</span><span class="o">.</span><span class="na">TWITTER</span><span class="o">);</span> <span class="c1">// Share to multiple networks simultaneously</span>
</pre></div>
</div>
</div>
<div class="section" id="adding-comments-without-sharing">
<h3>Adding Comments Without Sharing<a class="headerlink" href="#adding-comments-without-sharing" title="Permalink to this headline">¶</a></h3>
<p>If you want to explicitly disable sharing of comments you can do this using the <strong>CommentOptions</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Entity</span> <span class="n">entity</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;http://myentity.com&quot;</span><span class="o">,</span> <span class="s">&quot;My Name&quot;</span><span class="o">);</span>

<span class="c1">// Get the default options for the user.</span>
<span class="n">CommentOptions</span> <span class="n">commentOptions</span> <span class="o">=</span> <span class="n">CommentUtils</span><span class="o">.</span><span class="na">getUserCommentOptions</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>

<span class="c1">// Do NOT promt the user to share</span>
<span class="n">commentOptions</span><span class="o">.</span><span class="na">setShowShareDialog</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>

<span class="c1">// Pass the share options in the call to create the comment.</span>
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">CommentUtils</span><span class="o">.</span><span class="na">addComment</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">entity</span><span class="o">,</span> <span class="s">&quot;This the comment&quot;</span><span class="o">,</span> <span class="n">commentOptions</span><span class="o">,</span> <span class="k">new</span> <span class="n">CommentAddListener</span><span class="o">()</span> <span class="o">{</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Comment</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Comment was created</span>
	<span class="o">}</span>

<span class="o">});</span>
</pre></div>
</div>
</div>
<div class="section" id="retrieving-comments">
<h3>Retrieving Comments<a class="headerlink" href="#retrieving-comments" title="Permalink to this headline">¶</a></h3>
<p>You can retrieve existing comments by User, Entity, Application or directly using an ID</p>
<p>List comments by User</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">User</span> <span class="n">user</span> <span class="o">=</span> <span class="n">UserUtils</span><span class="o">.</span><span class="na">getCurrentUser</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>

<span class="c1">// Get first 10 comments by user</span>
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">CommentUtils</span><span class="o">.</span><span class="na">getCommentsByUser</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">user</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="k">new</span> <span class="n">CommentListListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onList</span><span class="o">(</span><span class="n">ListResult</span><span class="o">&lt;</span><span class="n">Comment</span><span class="o">&gt;</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Found comments</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
<p>List comments by Entity</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">String</span> <span class="n">entityKey</span> <span class="o">=</span> <span class="s">&quot;http://getsocialize.com&quot;</span><span class="o">;</span>

<span class="c1">// Get first 10 comments</span>
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">CommentUtils</span><span class="o">.</span><span class="na">getCommentsByEntity</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">entityKey</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="k">new</span> <span class="n">CommentListListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onList</span><span class="o">(</span><span class="n">ListResult</span><span class="o">&lt;</span><span class="n">Comment</span><span class="o">&gt;</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Found comments</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
<p>List comments by ID</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kt">long</span> <span class="n">commentId0</span> <span class="o">=</span> <span class="mi">123</span><span class="o">;</span>
<span class="kt">long</span> <span class="n">commentId1</span> <span class="o">=</span> <span class="mi">456</span><span class="o">;</span>

<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">CommentUtils</span><span class="o">.</span><span class="na">getComments</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="k">new</span> <span class="n">CommentListListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onList</span><span class="o">(</span><span class="n">ListResult</span><span class="o">&lt;</span><span class="n">Comment</span><span class="o">&gt;</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Found comments</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">if</span><span class="o">(</span><span class="n">isNotFoundError</span><span class="o">(</span><span class="n">error</span><span class="o">))</span> <span class="o">{</span>
			<span class="c1">// No comment with ID found</span>
		<span class="o">}</span>
		<span class="k">else</span> <span class="o">{</span>
			<span class="c1">// Some other error</span>
		<span class="o">}</span>
	<span class="o">}</span>
<span class="o">},</span> <span class="n">commentId0</span><span class="o">,</span> <span class="n">commentId1</span><span class="o">);</span>
</pre></div>
</div>
<p>List comments by Application</p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// Get first 10 comments</span>
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">CommentUtils</span><span class="o">.</span><span class="na">getCommentsByApplication</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="k">new</span> <span class="n">CommentListListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onList</span><span class="o">(</span><span class="n">ListResult</span><span class="o">&lt;</span><span class="n">Comment</span><span class="o">&gt;</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Found comments</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="likes">
<h2>Likes<a class="headerlink" href="#likes" title="Permalink to this headline">¶</a></h2>
<div style="background-color:#ffe2a4;border-style:solid;border-color:#5e0000;border-width:1px;">

<table border="0">
	<tr>
		<td>
			<img src="static/flag.png"/>
		</td>
		<td>
			<div style="font-size:1.2em;font-weight:bold;padding:8px;color:#5e0000;padding-left:0px;">
			Advanced Use
			</div>
		</td>
	</tr>
</table>


<div style="font-size:0.9em;font-weight:normal;padding:8px;color:#5e0000;">
The following section is not required if you are simply using the <b>Action Bar</b>
</div>
</div><div class="section" id="liking">
<h3>Liking<a class="headerlink" href="#liking" title="Permalink to this headline">¶</a></h3>
<p>To create a like programmatically you simply call the <strong>like</strong> method on <strong>LikeUtils</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Entity</span> <span class="n">entity</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;http://myentity.com&quot;</span><span class="o">,</span> <span class="s">&quot;My Name&quot;</span><span class="o">);</span>

<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">LikeUtils</span><span class="o">.</span><span class="na">like</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">entity</span><span class="o">,</span> <span class="k">new</span> <span class="n">LikeAddListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Like</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Like was created</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
<p>You can also manually specify how the like is to be propagated to 3rd party networks such as Facebook and Twitter</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Entity</span> <span class="n">entity</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;http://myentity.com&quot;</span><span class="o">,</span> <span class="s">&quot;My Name&quot;</span><span class="o">);</span>

<span class="c1">// Get the default options for the user.</span>
<span class="n">LikeOptions</span> <span class="n">likeOptions</span> <span class="o">=</span> <span class="n">LikeUtils</span><span class="o">.</span><span class="na">getUserLikeOptions</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>

<span class="c1">// Pass the share options in the call to create the like.</span>
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">LikeUtils</span><span class="o">.</span><span class="na">like</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">entity</span><span class="o">,</span> <span class="n">likeOptions</span><span class="o">,</span> <span class="k">new</span> <span class="n">LikeAddListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Like</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Like was created</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onNetworkError</span><span class="o">(</span><span class="n">Activity</span> <span class="n">context</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">network</span><span class="o">,</span> <span class="n">Exception</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Failed to share to the given network</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onBeforePost</span><span class="o">(</span><span class="n">Activity</span> <span class="n">parent</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">socialNetwork</span><span class="o">,</span> <span class="n">PostData</span> <span class="n">postData</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Called before the post to the given network is made</span>
		<span class="c1">// Return true to prevent the post from occurring</span>
		<span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAfterPost</span><span class="o">(</span><span class="n">Activity</span> <span class="n">parent</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">socialNetwork</span><span class="o">,</span> <span class="n">JSONObject</span> <span class="n">responseObject</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Called after the post to the given network is made</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">()</span> <span class="o">{</span>
		<span class="c1">// Called if the user canceled the auth process for social networks</span>
	<span class="o">}</span>
<span class="o">},</span> <span class="n">SocialNetwork</span><span class="o">.</span><span class="na">FACEBOOK</span><span class="o">,</span> <span class="n">SocialNetwork</span><span class="o">.</span><span class="na">TWITTER</span><span class="o">);</span> <span class="c1">// Share to multiple networks simultaneously</span>
</pre></div>
</div>
</div>
<div class="section" id="un-liking">
<h3>Un-Liking<a class="headerlink" href="#un-liking" title="Permalink to this headline">¶</a></h3>
<p>You can also remove a previous like from an entity</p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// Just use the entity key of the entity that was liked</span>
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">LikeUtils</span><span class="o">.</span><span class="na">unlike</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="s">&quot;http://myentity.com&quot;</span><span class="o">,</span> <span class="k">new</span> <span class="n">LikeDeleteListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onDelete</span><span class="o">()</span> <span class="o">{</span>
		<span class="c1">// Like was deleted</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
</div>
<div class="section" id="retrieving-likes">
<h3>Retrieving Likes<a class="headerlink" href="#retrieving-likes" title="Permalink to this headline">¶</a></h3>
<p>You can retrieve existing likes by User, Entity or Application wide</p>
<p>List likes by User</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">User</span> <span class="n">user</span> <span class="o">=</span> <span class="n">UserUtils</span><span class="o">.</span><span class="na">getCurrentUser</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>

<span class="c1">// Get first 10 likes by user</span>
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">LikeUtils</span><span class="o">.</span><span class="na">getLikesByUser</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">user</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="k">new</span> <span class="n">LikeListListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onList</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Like</span><span class="o">&gt;</span> <span class="n">likes</span><span class="o">,</span> <span class="kt">int</span> <span class="n">totalCount</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Found likes</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
<p>List likes by Entity</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">String</span> <span class="n">entityKey</span> <span class="o">=</span> <span class="s">&quot;http://getsocialize.com&quot;</span><span class="o">;</span>

<span class="c1">// Get first 10 likes</span>
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">LikeUtils</span><span class="o">.</span><span class="na">getLikesByEntity</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">entityKey</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="k">new</span> <span class="n">LikeListListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onList</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Like</span><span class="o">&gt;</span> <span class="n">likes</span><span class="o">,</span> <span class="kt">int</span> <span class="n">totalCount</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Found likes</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
<p>List likes by Application</p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// Get first 10 likes</span>
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">LikeUtils</span><span class="o">.</span><span class="na">getLikesByApplication</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="k">new</span> <span class="n">LikeListListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onList</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Like</span><span class="o">&gt;</span> <span class="n">likes</span><span class="o">,</span> <span class="kt">int</span> <span class="n">totalCount</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Found likes</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="views">
<h2>Views<a class="headerlink" href="#views" title="Permalink to this headline">¶</a></h2>
<div style="background-color:#ffe2a4;border-style:solid;border-color:#5e0000;border-width:1px;">

<table border="0">
	<tr>
		<td>
			<img src="static/flag.png"/>
		</td>
		<td>
			<div style="font-size:1.2em;font-weight:bold;padding:8px;color:#5e0000;padding-left:0px;">
			Advanced Use
			</div>
		</td>
	</tr>
</table>


<div style="font-size:0.9em;font-weight:normal;padding:8px;color:#5e0000;">
The following section is not required if you are simply using the <b>Action Bar</b>
</div>
</div><p>A &#8220;view&#8221; represents the action of a user <em>viewing</em> an entity and is an extremely useful analytics tool</p>
<div class="section" id="recording-views">
<h3>Recording Views<a class="headerlink" href="#recording-views" title="Permalink to this headline">¶</a></h3>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Entity</span> <span class="n">entity</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;http://myentity.com&quot;</span><span class="o">,</span> <span class="s">&quot;My Name&quot;</span><span class="o">);</span>

<span class="c1">//The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">ViewUtils</span><span class="o">.</span><span class="na">view</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">entity</span><span class="o">,</span> <span class="k">new</span> <span class="n">ViewAddListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">View</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// View was created</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
<script type="text/javascript">
</script></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html?v=v2.9.7" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<h3><a href="index.html?v=v2.9.7">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="whats_new.html?v=v2.9.7">What&#8217;s New</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html?v=v2.9.7">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="lifecycle.html?v=v2.9.7">Socialize Lifecycle</a></li>
<li class="toctree-l1"><a class="reference internal" href="demo.html?v=v2.9.7">Socialize Demo App</a></li>
<li class="toctree-l1"><a class="reference internal" href="action_bar.html?v=v2.9.7">Socialize Action Bar</a></li>
<li class="toctree-l1"><a class="reference internal" href="entities.html?v=v2.9.7">Socialize Entities</a></li>
<li class="toctree-l1"><a class="reference internal" href="like_button.html?v=v2.9.7">Custom Like Buttons</a></li>
<li class="toctree-l1"><a class="reference internal" href="facebook.html?v=v2.9.7">Facebook Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="twitter.html?v=v2.9.7">Twitter Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="pinterest.html?v=v2.9.7">Sharing to Pinterest</a></li>
<li class="toctree-l1"><a class="reference internal" href="facebook_adv.html?v=v2.9.7">Advanced Facebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="twitter_adv.html?v=v2.9.7">Advanced Twitter</a></li>
<li class="toctree-l1"><a class="reference internal" href="push_notifications.html?v=v2.9.7">SmartAlerts (Push Notifications)</a></li>
<li class="toctree-l1"><a class="reference internal" href="entity_loader.html?v=v2.9.7">Entity Loaders</a></li>
<li class="toctree-l1"><a class="reference internal" href="deep_linking.html?v=v2.9.7">Deep Linking</a></li>
<li class="toctree-l1"><a class="reference internal" href="localization.html?v=v2.9.7">Localization</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Socialize Core SDK Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#initializing-socialize-optional">Initializing Socialize (Optional)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#entities">Entities</a></li>
<li class="toctree-l2"><a class="reference internal" href="#users-user-activity">Users &amp; User Activity</a></li>
<li class="toctree-l2"><a class="reference internal" href="#application-activity">Application Activity</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sharing">Sharing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#comments">Comments</a></li>
<li class="toctree-l2"><a class="reference internal" href="#likes">Likes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#views">Views</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="best_practice.html?v=v2.9.7">Extending Socialize</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html?v=v2.9.7">Configuration Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="amazon.html?v=v2.9.7">Amazon AppStore URLs</a></li>
<li class="toctree-l1"><a class="reference internal" href="proguard.html?v=v2.9.7">ProGuard Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html?v=v2.9.7">Troubleshooting &amp; Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="change_log.html?v=v2.9.7">Change Log</a></li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="best_practice.html?v=v2.9.7" title="Extending Socialize"
             >next</a></li>
        <li class="right" >
          <a href="localization.html?v=v2.9.7" title="Localization"
             >previous</a> |</li>
        <li><a href="index.html?v=v2.9.7">Socialize Android SDK v2.9.7 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Socialize Inc.
    </div>
  </body>
</html>