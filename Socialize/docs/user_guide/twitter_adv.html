
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Advanced Twitter &mdash; Socialize Android SDK v2.9.7 documentation</title>
    
    <link rel="stylesheet" href="static/nature.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     'v2.9.7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="shortcut icon" href="static/favicon.ico"/>
    <link rel="top" title="Socialize Android SDK v2.9.7 documentation" href="index.html?v=v2.9.7" />
    <link rel="next" title="SmartAlerts (Push Notifications)" href="push_notifications.html?v=v2.9.7" />
    <link rel="prev" title="Advanced Facebook" href="facebook_adv.html?v=v2.9.7" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="push_notifications.html?v=v2.9.7" title="SmartAlerts (Push Notifications)"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="facebook_adv.html?v=v2.9.7" title="Advanced Facebook"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html?v=v2.9.7">Socialize Android SDK v2.9.7 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
      <META HTTP-EQUIV="Pragma" CONTENT="no-cache"/>
    <META HTTP-EQUIV="Expires" CONTENT="-1"/>

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-9835027-5']);
    _gaq.push(['_setDomainName', '.getsocialize.com']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>

    <script type="text/javascript" charset="utf-8">
      var is_ssl = ("https:" == document.location.protocol);
      var asset_host = is_ssl ? "https://s3.amazonaws.com/getsatisfaction.com/" : "http://s3.amazonaws.com/getsatisfaction.com/";
      document.write(unescape("%3Cscript src='" + asset_host + "javascripts/feedback-v2.js' type='text/javascript'%3E%3C/script%3E"));
    </script>

    <script type="text/javascript" charset="utf-8">
      var feedback_widget_options = {};
      feedback_widget_options.display = "overlay";
      feedback_widget_options.company = "socialize";
      feedback_widget_options.placement = "right";
      feedback_widget_options.color = "#222";
      feedback_widget_options.style = "question";
      feedback_widget_options.product = "socialize_android_sdk";
      feedback_widget_options.limit = "3";
      GSFN.feedback_widget.prototype.local_base_url = "http://support.getsocialize.com";
      GSFN.feedback_widget.prototype.local_ssl_base_url = "http://support.getsocialize.com";
      var feedback_widget = new GSFN.feedback_widget(feedback_widget_options);
    </script><div class="section" id="advanced-twitter">
<h1>Advanced Twitter<a class="headerlink" href="#advanced-twitter" title="Permalink to this headline">¶</a></h1>
<div style="background-color:#ffe2a4;border-style:solid;border-color:#5e0000;border-width:1px;">

<table border="0">
	<tr>
		<td>
			<img src="static/flag.png"/>
		</td>
		<td>
			<div style="font-size:1.2em;font-weight:bold;padding:8px;color:#5e0000;padding-left:0px;">
			Advanced Use
			</div>
		</td>
	</tr>
</table>


<div style="font-size:0.9em;font-weight:normal;padding:8px;color:#5e0000;">
The following section is not required if you are simply using the <b>Action Bar</b>
</div>
</div><div class="section" id="linking-users-with-twitter">
<h2>Linking Users with Twitter<a class="headerlink" href="#linking-users-with-twitter" title="Permalink to this headline">¶</a></h2>
<p>If you are not using the ActionBar or want to manually link a user to their Twitter account you can do so with the <strong>link</strong> method</p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// The &quot;this&quot; argument refers to the current Activity </span>
<span class="n">TwitterUtils</span><span class="o">.</span><span class="na">link</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="k">new</span> <span class="n">SocializeAuthListener</span><span class="o">()</span> <span class="o">{</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">()</span> <span class="o">{</span>
		<span class="c1">// The user cancelled the operation.</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAuthSuccess</span><span class="o">(</span><span class="n">SocializeSession</span> <span class="n">session</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// User was authed.</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAuthFail</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
<p>If you already have Twitter integration in your app and do not wish to replace this with the Socialize implementation you
can still link the user to Twitter within Socialize by providing the user&#8217;s Twitter auth token and secret</p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// The user&#39;s Twitter auth token</span>
<span class="n">String</span> <span class="n">twToken</span> <span class="o">=</span> <span class="s">&quot;ABCDEF...GHIJKL&quot;</span><span class="o">;</span>
<span class="c1">//The user&#39;s Twitter auth token secret</span>
<span class="n">String</span> <span class="n">twSecret</span> <span class="o">=</span> <span class="s">&quot;ABCDEF...GHIJKL&quot;</span><span class="o">;</span>

<span class="n">TwitterUtils</span><span class="o">.</span><span class="na">link</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">twToken</span><span class="o">,</span> <span class="n">twSecret</span><span class="o">,</span> <span class="k">new</span> <span class="n">SocializeAuthListener</span><span class="o">()</span> <span class="o">{</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">()</span> <span class="o">{</span>
		<span class="c1">// The user cancelled the operation.</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAuthSuccess</span><span class="o">(</span><span class="n">SocializeSession</span> <span class="n">session</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// User was authed.</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAuthFail</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
</div>
<div class="section" id="unlinking-users-from-twitter">
<h2>Unlinking Users from Twitter<a class="headerlink" href="#unlinking-users-from-twitter" title="Permalink to this headline">¶</a></h2>
<p>To unlink a user from their Twitter account simple call <strong>unlink</strong>.  This call executes synchronously.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// Disconnect the user from their Twitter account</span>
<span class="n">TwitterUtils</span><span class="o">.</span><span class="na">unlink</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>	
</pre></div>
</div>
</div>
<div class="section" id="posting-to-twitter">
<h2>Posting to Twitter<a class="headerlink" href="#posting-to-twitter" title="Permalink to this headline">¶</a></h2>
<p>By default all actions created using the SDK will provide the end user with the opportunity to share their
action with Twitter (if Twitter has been configured) however it is also possible to manually post content to a user&#8217;s
Twitter feed.</p>
<div class="section" id="posting-socialize-entities-to-twitter">
<h3>Posting Socialize Entities to Twitter<a class="headerlink" href="#posting-socialize-entities-to-twitter" title="Permalink to this headline">¶</a></h3>
<p>The simplest and most effective use of Twitter within Socialize is to post entities.  This approach takes full advantage of
Socialize SmartDownloads which helps maximize the effectiveness of your social strategy.</p>
<p>To post an entity to a user&#8217;s Twitter feed simply call the <strong>tweetEntity</strong> method.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Entity</span> <span class="n">entity</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;http://myentity.com&quot;</span><span class="o">,</span> <span class="s">&quot;My Name&quot;</span><span class="o">);</span>
	
<span class="n">TwitterUtils</span><span class="o">.</span><span class="na">tweetEntity</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">entity</span><span class="o">,</span> <span class="s">&quot;Text to be posted&quot;</span><span class="o">,</span> <span class="k">new</span> <span class="n">SocialNetworkShareListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onNetworkError</span><span class="o">(</span><span class="n">Activity</span> <span class="n">context</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">network</span><span class="o">,</span> <span class="n">Exception</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">()</span> <span class="o">{</span>
		<span class="c1">// The user cancelled the operation.</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAfterPost</span><span class="o">(</span><span class="n">Activity</span> <span class="n">parent</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">socialNetwork</span><span class="o">,</span> <span class="n">JSONObject</span> <span class="n">responseObject</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Called after the post returned from Twitter.</span>
		<span class="c1">// responseObject contains the raw JSON response from Twitter.</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onBeforePost</span><span class="o">(</span><span class="n">Activity</span> <span class="n">parent</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">socialNetwork</span><span class="o">,</span> <span class="n">PostData</span> <span class="n">postData</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Called just prior to the post.</span>
		<span class="c1">// postData contains the dictionary (map) of data to be posted.  </span>
		<span class="c1">// You can change this here to customize the post.</span>
		<span class="c1">// Return true to prevent the post from occurring.</span>
		<span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
</div>
<div class="section" id="posting-directly-to-twitter">
<h3>Posting Directly to Twitter<a class="headerlink" href="#posting-directly-to-twitter" title="Permalink to this headline">¶</a></h3>
<p>If you want complete control over what is posted to Twitter, Socialize provides a simple interface to the Twitter REST API.</p>
<p>Refer to the Twitter REST API documentation for more specific implementation information</p>
<p><a class="reference external" href="http://dev.twitter.com/docs/api">http://dev.twitter.com/docs/api</a></p>
<p>Sending a <strong>Tweet</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// Create a Tweet object</span>
	
<span class="n">Tweet</span> <span class="n">tweet</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Tweet</span><span class="o">();</span>

<span class="n">tweet</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">&quot;Test Message&quot;</span><span class="o">);</span>

<span class="c1">// Execute a POST on twitter</span>
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">TwitterUtils</span><span class="o">.</span><span class="na">tweet</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">tweet</span><span class="o">,</span> <span class="k">new</span> <span class="n">SocialNetworkListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onNetworkError</span><span class="o">(</span><span class="n">Activity</span> <span class="n">context</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">network</span><span class="o">,</span> <span class="n">Exception</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">()</span> <span class="o">{</span>
		<span class="c1">// The user cancelled the operation.</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAfterPost</span><span class="o">(</span><span class="n">Activity</span> <span class="n">parent</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">socialNetwork</span><span class="o">,</span> <span class="n">JSONObject</span> <span class="n">responseObject</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Called after the post returned from Twitter.</span>
		<span class="c1">// responseObject contains the raw JSON response from Twitter.</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onBeforePost</span><span class="o">(</span><span class="n">Activity</span> <span class="n">parent</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">socialNetwork</span><span class="o">,</span> <span class="n">PostData</span> <span class="n">postData</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Called before the post to the given network is made</span>
		<span class="c1">// Return true to prevent the post from occurring</span>
		<span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
<p>Executing a <strong>POST</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// The API path to be called</span>
<span class="n">String</span> <span class="n">graphPath</span> <span class="o">=</span> <span class="s">&quot;statuses/update.json&quot;</span><span class="o">;</span>

<span class="c1">// The data to be posted. This is based on the API endpoint</span>
<span class="c1">// See https://dev.twitter.com/docs/api</span>
<span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">postData</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;();</span>
<span class="n">postData</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;status&quot;</span><span class="o">,</span> <span class="s">&quot;A message to post&quot;</span><span class="o">);</span>
	
<span class="c1">// Execute a POST on twitter</span>
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">TwitterUtils</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">graphPath</span><span class="o">,</span> <span class="n">postData</span><span class="o">,</span> <span class="k">new</span> <span class="n">SocialNetworkPostListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onNetworkError</span><span class="o">(</span><span class="n">Activity</span> <span class="n">context</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">network</span><span class="o">,</span> <span class="n">Exception</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">()</span> <span class="o">{</span>
		<span class="c1">// The user cancelled the operation.</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAfterPost</span><span class="o">(</span><span class="n">Activity</span> <span class="n">parent</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">socialNetwork</span><span class="o">,</span> <span class="n">JSONObject</span> <span class="n">responseObject</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Called after the post returned from Twitter.</span>
		<span class="c1">// responseObject contains the raw JSON response from Twitter.</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
<p>If you want to take full advantage of Socialize SmartDownloads and post the auto-generated SmartDownload urls for your entity or app you can
do this by creating a simple share object without propagation first.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// Create a simple share object to get the propagation data</span>
<span class="kd">final</span> <span class="n">Entity</span> <span class="n">entity</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;http://myentity.com&quot;</span><span class="o">,</span> <span class="s">&quot;My Name&quot;</span><span class="o">);</span>

<span class="n">ShareOptions</span> <span class="n">options</span> <span class="o">=</span> <span class="n">ShareUtils</span><span class="o">.</span><span class="na">getUserShareOptions</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>

<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">ShareUtils</span><span class="o">.</span><span class="na">registerShare</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">entity</span><span class="o">,</span> <span class="n">options</span><span class="o">,</span> <span class="k">new</span> <span class="n">ShareAddListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Share</span> <span class="n">share</span><span class="o">)</span> <span class="o">{</span>
		
		<span class="c1">// Get the propagation info from the result</span>
		<span class="n">PropagationInfoResponse</span> <span class="n">propagationInfoResponse</span> <span class="o">=</span> <span class="n">share</span><span class="o">.</span><span class="na">getPropagationInfoResponse</span><span class="o">();</span>
		
		<span class="n">PropagationInfo</span> <span class="n">propagationInfo</span> <span class="o">=</span> <span class="n">propagationInfoResponse</span><span class="o">.</span><span class="na">getPropagationInfo</span><span class="o">(</span><span class="n">SocialNetwork</span><span class="o">.</span><span class="na">TWITTER</span><span class="o">);</span>
		
		<span class="c1">// Tweet the link</span>
		<span class="n">Tweet</span> <span class="n">tweet</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Tweet</span><span class="o">();</span>
		<span class="n">tweet</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">&quot;A message to post &quot;</span> <span class="o">+</span> <span class="n">propagationInfo</span><span class="o">.</span><span class="na">getEntityUrl</span><span class="o">());</span> <span class="c1">// Use the SmartDownload URL</span>
			
		<span class="c1">// Execute a POST on twitter</span>
		<span class="n">TwitterUtils</span><span class="o">.</span><span class="na">tweet</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">tweet</span><span class="o">,</span> <span class="k">new</span> <span class="n">SocialNetworkListener</span><span class="o">()</span> <span class="o">{</span>
			
			<span class="nd">@Override</span>
			<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onNetworkError</span><span class="o">(</span><span class="n">Activity</span> <span class="n">context</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">network</span><span class="o">,</span> <span class="n">Exception</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
				<span class="c1">// Handle error</span>
			<span class="o">}</span>
			
			<span class="nd">@Override</span>
			<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">()</span> <span class="o">{</span>
				<span class="c1">// The user cancelled the operation.</span>
			<span class="o">}</span>
			
			<span class="nd">@Override</span>
			<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAfterPost</span><span class="o">(</span><span class="n">Activity</span> <span class="n">parent</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">socialNetwork</span><span class="o">,</span> <span class="n">JSONObject</span> <span class="n">responseObject</span><span class="o">)</span> <span class="o">{</span>
				<span class="c1">// Called after the post returned from Twitter.</span>
				<span class="c1">// responseObject contains the raw JSON response from Twitter.</span>
			<span class="o">}</span>
			
			<span class="nd">@Override</span>
			<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onBeforePost</span><span class="o">(</span><span class="n">Activity</span> <span class="n">parent</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">socialNetwork</span><span class="o">,</span> <span class="n">PostData</span> <span class="n">postData</span><span class="o">)</span> <span class="o">{</span>
				<span class="c1">// Called before the post to the given network is made</span>
				<span class="c1">// Return true to prevent the post from occurring</span>
				<span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
			<span class="o">}</span>
		<span class="o">});</span>		
	<span class="o">}</span>
<span class="o">},</span> <span class="n">SocialNetwork</span><span class="o">.</span><span class="na">TWITTER</span><span class="o">);</span>
</pre></div>
</div>
<p>Executing a <strong>GET</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// The graph API path to be called</span>
<span class="n">String</span> <span class="n">graphPath</span> <span class="o">=</span> <span class="s">&quot;followers/ids.json&quot;</span><span class="o">;</span>

<span class="c1">// Execute a GET on twitter</span>
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">TwitterUtils</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">graphPath</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="k">new</span> <span class="n">SocialNetworkPostListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onNetworkError</span><span class="o">(</span><span class="n">Activity</span> <span class="n">context</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">network</span><span class="o">,</span> <span class="n">Exception</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">()</span> <span class="o">{</span>
		<span class="c1">// The user cancelled the operation.</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAfterPost</span><span class="o">(</span><span class="n">Activity</span> <span class="n">parent</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">socialNetwork</span><span class="o">,</span> <span class="n">JSONObject</span> <span class="n">responseObject</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Called after the post returned from Twitter.</span>
		<span class="c1">// responseObject contains the raw JSON response from Twitter.</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="posting-photos-to-twitter">
<h2>Posting Photos to Twitter<a class="headerlink" href="#posting-photos-to-twitter" title="Permalink to this headline">¶</a></h2>
<p>You can easily post photo&#8217;s to a user&#8217;s Twitter Photos using the <strong>tweetPhoto</strong> method on <strong>TwitterUtils</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">//The &quot;this&quot; argument refers to the current Activity</span>
<span class="kd">final</span> <span class="n">Activity</span> <span class="n">context</span> <span class="o">=</span> <span class="k">this</span><span class="o">;</span>
	
<span class="kd">final</span> <span class="n">Entity</span> <span class="n">entity</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;http://myentity.com&quot;</span><span class="o">,</span> <span class="s">&quot;My Name&quot;</span><span class="o">);</span>	
	
<span class="c1">// First create a Socialize share object so we get the correct URLs</span>
<span class="n">ShareOptions</span> <span class="n">options</span> <span class="o">=</span> <span class="n">ShareUtils</span><span class="o">.</span><span class="na">getUserShareOptions</span><span class="o">(</span><span class="n">context</span><span class="o">);</span>

<span class="n">ShareUtils</span><span class="o">.</span><span class="na">registerShare</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">entity</span><span class="o">,</span> <span class="n">options</span><span class="o">,</span> <span class="k">new</span> <span class="n">ShareAddListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Share</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		
		<span class="c1">// We have the result, use the URLs to add to the post</span>
		<span class="n">PropagationInfo</span> <span class="n">propagationInfo</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">getPropagationInfoResponse</span><span class="o">().</span><span class="na">getPropagationInfo</span><span class="o">(</span><span class="n">ShareType</span><span class="o">.</span><span class="na">TWITTER</span><span class="o">);</span>
		<span class="n">String</span> <span class="n">link</span> <span class="o">=</span> <span class="n">propagationInfo</span><span class="o">.</span><span class="na">getEntityUrl</span><span class="o">();</span>

		<span class="c1">// TODO: Get the URI of your image from the local device.</span>
		<span class="c1">// TODO: ***** DON&#39;T FORGET TO USE YOUR OWN IMAGE HERE (See the sample app for a working example) ****</span>
		<span class="n">Uri</span> <span class="n">photoUri</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

		<span class="c1">// Format the picture for Twitter</span>
		<span class="k">try</span> <span class="o">{</span>
			<span class="kt">byte</span><span class="o">[]</span> <span class="n">imageData</span> <span class="o">=</span> <span class="n">TwitterUtils</span><span class="o">.</span><span class="na">getImageForPost</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">photoUri</span><span class="o">);</span>
			
			<span class="c1">// Create a photo tweet</span>
			<span class="n">PhotoTweet</span> <span class="n">tweet</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PhotoTweet</span><span class="o">();</span>
			
			<span class="c1">// Add the photo to the post</span>
			<span class="n">tweet</span><span class="o">.</span><span class="na">setImageData</span><span class="o">(</span><span class="n">imageData</span><span class="o">);</span>
			
			<span class="c1">// Add the link returned from Socialize to use SmartDownloads</span>
			<span class="n">tweet</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">&quot;A test photo of something &quot;</span> <span class="o">+</span> <span class="n">link</span><span class="o">);</span>
			
			<span class="c1">// Post to twitter</span>
			<span class="n">TwitterUtils</span><span class="o">.</span><span class="na">tweetPhoto</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">tweet</span><span class="o">,</span> <span class="k">new</span> <span class="n">SocialNetworkPostListener</span><span class="o">()</span> <span class="o">{</span>
				
				<span class="nd">@Override</span>
				<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onNetworkError</span><span class="o">(</span><span class="n">Activity</span> <span class="n">context</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">network</span><span class="o">,</span> <span class="n">Exception</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
					<span class="c1">// Handle error</span>
				<span class="o">}</span>
				
				<span class="nd">@Override</span>
				<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">()</span> <span class="o">{</span>
					<span class="c1">// The user cancelled the auth process</span>
				<span class="o">}</span>
				
				<span class="nd">@Override</span>
				<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAfterPost</span><span class="o">(</span><span class="n">Activity</span> <span class="n">parent</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">socialNetwork</span><span class="o">,</span> <span class="n">JSONObject</span> <span class="n">responseObject</span><span class="o">)</span> <span class="o">{</span>
					<span class="c1">// The post was successful</span>
				<span class="o">}</span>
			<span class="o">});</span>
		<span class="o">}</span>
		<span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
			<span class="c1">// Handle error</span>
		<span class="o">}</span>
	<span class="o">}</span>
<span class="o">},</span> <span class="n">SocialNetwork</span><span class="o">.</span><span class="na">TWITTER</span><span class="o">);</span>	
</pre></div>
</div>
<script type="text/javascript">
</script></div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html?v=v2.9.7" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<h3><a href="index.html?v=v2.9.7">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="whats_new.html?v=v2.9.7">What&#8217;s New</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html?v=v2.9.7">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="lifecycle.html?v=v2.9.7">Socialize Lifecycle</a></li>
<li class="toctree-l1"><a class="reference internal" href="demo.html?v=v2.9.7">Socialize Demo App</a></li>
<li class="toctree-l1"><a class="reference internal" href="action_bar.html?v=v2.9.7">Socialize Action Bar</a></li>
<li class="toctree-l1"><a class="reference internal" href="entities.html?v=v2.9.7">Socialize Entities</a></li>
<li class="toctree-l1"><a class="reference internal" href="like_button.html?v=v2.9.7">Custom Like Buttons</a></li>
<li class="toctree-l1"><a class="reference internal" href="facebook.html?v=v2.9.7">Facebook Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="twitter.html?v=v2.9.7">Twitter Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="pinterest.html?v=v2.9.7">Sharing to Pinterest</a></li>
<li class="toctree-l1"><a class="reference internal" href="facebook_adv.html?v=v2.9.7">Advanced Facebook</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Advanced Twitter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#linking-users-with-twitter">Linking Users with Twitter</a></li>
<li class="toctree-l2"><a class="reference internal" href="#unlinking-users-from-twitter">Unlinking Users from Twitter</a></li>
<li class="toctree-l2"><a class="reference internal" href="#posting-to-twitter">Posting to Twitter</a></li>
<li class="toctree-l2"><a class="reference internal" href="#posting-photos-to-twitter">Posting Photos to Twitter</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="push_notifications.html?v=v2.9.7">SmartAlerts (Push Notifications)</a></li>
<li class="toctree-l1"><a class="reference internal" href="entity_loader.html?v=v2.9.7">Entity Loaders</a></li>
<li class="toctree-l1"><a class="reference internal" href="deep_linking.html?v=v2.9.7">Deep Linking</a></li>
<li class="toctree-l1"><a class="reference internal" href="localization.html?v=v2.9.7">Localization</a></li>
<li class="toctree-l1"><a class="reference internal" href="sdk_user_guide.html?v=v2.9.7">Socialize Core SDK Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="best_practice.html?v=v2.9.7">Extending Socialize</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html?v=v2.9.7">Configuration Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="amazon.html?v=v2.9.7">Amazon AppStore URLs</a></li>
<li class="toctree-l1"><a class="reference internal" href="proguard.html?v=v2.9.7">ProGuard Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html?v=v2.9.7">Troubleshooting &amp; Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="change_log.html?v=v2.9.7">Change Log</a></li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="push_notifications.html?v=v2.9.7" title="SmartAlerts (Push Notifications)"
             >next</a></li>
        <li class="right" >
          <a href="facebook_adv.html?v=v2.9.7" title="Advanced Facebook"
             >previous</a> |</li>
        <li><a href="index.html?v=v2.9.7">Socialize Android SDK v2.9.7 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Socialize Inc.
    </div>
  </body>
</html>